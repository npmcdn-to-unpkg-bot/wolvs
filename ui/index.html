<!DOCTYPE html>
<html lang="en">
<head>
    <title>Wolvs</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <header class="main-header" style="background-image: url(content/images/background.jpg)">
        <div class="vertical tint">
            <div class="page inner">
            </div>
        </div>
    </header>

    <script type="text/template" id="welcome-choice-template">
        <a class="button new-game-button" href="#/new">New Game</a>
        <a class="button join-game-button" href="#/join">Join Game</a>
    </script>

    <script type="text/template" id="setup-game-template">
        <table>
            <tbody>
                <tr>
                    <td>
                        <a class="button" href="#/join">Create Game and Join</a>
                    </td>
                    <td>
                        <a class="button" href="#/join">Create Game and Spectate</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.2/backbone-min.js"></script>
    <script>
        $.ajaxPrefilter( function(options, originalOptions, jqXHR) {
            options.url = 'localhost:8080'
        });

        var WelcomeChoice = Backbone.View.extend({
            el: '.page',
            render : function() {
                var template = _.template($('#welcome-choice-template').html());
                this.$el.html(template);
            }
        });

        var SetupGame = Backbone.View.extend({
            el: '.page',
            render : function() {
                var template = _.template($('#setup-game-template').html());
                this.$el.html(template);
            }
        });

        var Router = Backbone.Router.extend({
            routes : {
                '' : 'home',
                'new' : 'setupGame'
            }
        });

        var welcomeChoice = new WelcomeChoice();
        var setupGame = new SetupGame();

        var router = new Router();

        router.on('route:home', function () {
            welcomeChoice.render();
        });

        router.on('route:setupGame', function () {
            setupGame.render();
        });

        Backbone.history.start();
    </script>
</body>
</html>